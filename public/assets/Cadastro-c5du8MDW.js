import{g as L,af as T,r as l,j as e,C as F,b as q,c as D,d as O,e as R,I as h,f as J}from"./index-C9s3gB-3.js";import{L as i}from"./label-CHUtYmr4.js";import{A as N,a as y,E as v}from"./alert-Blql91It.js";import{E as w}from"./eye-5QI_uo9p.js";import{U as B}from"./user-CRjAgDCP.js";import{C as H}from"./crown-BizORMSu.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=L("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Q=()=>{const[,x]=T(),[n,E]=l.useState("cliente"),[r,P]=l.useState({name:"",email:"",password:"",confirmPassword:""}),[u,k]=l.useState(!1),[p,$]=l.useState(!1),[g,d]=l.useState(!1),[f,c]=l.useState(""),[j,b]=l.useState(""),m=(s,a)=>{P(o=>({...o,[s]:a}))},I=async s=>{if(s.preventDefault(),d(!0),c(""),b(""),r.password!==r.confirmPassword){c("As senhas não coincidem"),d(!1);return}if(r.password.length<6){c("A senha deve ter pelo menos 6 caracteres"),d(!1);return}try{const o=await(await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,email:r.email,password:r.password,role:n})})).json();o.success?(b(o.message),n==="cliente"?(localStorage.setItem("authToken",o.token),setTimeout(()=>{x("/client-dashboard")},2e3)):setTimeout(()=>{x("/login")},3e3)):c(o.error||"Erro ao criar conta")}catch{c("Erro de conexão com o servidor")}finally{d(!1)}},C={cliente:{icon:B,color:"bg-green-500",hoverColor:"hover:bg-green-600",borderColor:"border-green-500",textColor:"text-green-600",title:"Cliente",description:"Acesso às consultas e serviços esotéricos",benefits:["Consultas por chat e vídeo","Créditos de bônus","Histórico de consultas","Avaliações e feedback"]},consultor:{icon:H,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",borderColor:"border-purple-500",textColor:"text-purple-600",title:"Consultor",description:"Ofereça seus serviços esotéricos na plataforma",benefits:["Painel de consultoria","Gestão de horários","Recebimento de pagamentos","Sistema de avaliações"]}},t=C[n];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-gold-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-lg",children:e.jsxs(F,{className:"shadow-xl border-0",children:[e.jsxs(q,{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-purple-600 to-gold-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"CE"})}),e.jsxs("div",{children:[e.jsx(D,{className:"text-2xl font-bold text-gray-800",children:"Conselhos Esotéricos"}),e.jsx(O,{className:"text-gray-600",children:"Junte-se à nossa comunidade espiritual"})]})]}),e.jsxs(R,{className:"space-y-6",children:[f&&e.jsx(N,{className:"border-red-200 bg-red-50",children:e.jsx(y,{className:"text-red-800",children:f})}),j&&e.jsxs(N,{className:"border-green-200 bg-green-50",children:[e.jsx(S,{className:"w-4 h-4 text-green-600"}),e.jsx(y,{className:"text-green-800",children:j})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{className:"text-sm font-medium text-gray-700",children:"Tipo de Conta"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(C).map(([s,a])=>{const o=a.icon,A=n===s;return e.jsxs("button",{onClick:()=>E(s),className:`p-4 rounded-xl border-2 text-center transition-all duration-200 ${A?`${a.color} text-white ${a.borderColor}`:"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}`,children:[e.jsx(o,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"font-medium",children:a.title}),e.jsx("div",{className:"text-xs mt-1 opacity-90",children:a.description})]},s)})})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${t.borderColor} bg-opacity-5 ${t.color}`,children:[e.jsxs("h4",{className:`font-medium ${t.textColor} mb-2`,children:["Benefícios como ",t.title,":"]}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:t.benefits.map((s,a)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(S,{className:`w-3 h-3 mr-2 ${t.textColor}`}),s]},a))})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:"Nome Completo"}),e.jsx(h,{id:"name",type:"text",value:r.name,onChange:s=>m("name",s.target.value),placeholder:"Seu nome completo",required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsx(h,{id:"email",type:"email",value:r.email,onChange:s=>m("email",s.target.value),placeholder:"seu@email.com",required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"password",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{id:"password",type:u?"text":"password",value:r.password,onChange:s=>m("password",s.target.value),placeholder:"Crie uma senha forte",required:!0,className:"h-11 pr-10"}),e.jsx("button",{type:"button",onClick:()=>k(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?e.jsx(v,{className:"w-4 h-4"}):e.jsx(w,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{id:"confirmPassword",type:p?"text":"password",value:r.confirmPassword,onChange:s=>m("confirmPassword",s.target.value),placeholder:"Confirme sua senha",required:!0,className:"h-11 pr-10"}),e.jsx("button",{type:"button",onClick:()=>$(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?e.jsx(v,{className:"w-4 h-4"}):e.jsx(w,{className:"w-4 h-4"})})]})]}),e.jsx(J,{type:"submit",disabled:g,className:`w-full h-11 font-semibold ${t.color} ${t.hoverColor} text-white`,children:g?"Criando conta...":`Criar conta como ${t.title}`})]}),n==="consultor"&&e.jsxs("div",{className:"text-xs text-gray-500 bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[e.jsx("strong",{children:"Importante:"})," Contas de consultor passam por um processo de aprovação. Você receberá um email quando sua conta for ativada."]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Já tem uma conta?"," ",e.jsx("button",{onClick:()=>x("/login"),className:"text-purple-600 font-medium hover:underline",children:"Faça login"})]})})]})]})})})};export{Q as default};
