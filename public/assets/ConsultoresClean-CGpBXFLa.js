import{r as m,u as V,R as z,j as e,I as A,B as I,S as M,f as o,p as B,V as D}from"./index-C9s3gB-3.js";import{S as p,a as j,b,c as f,d as t}from"./select-B2paXjBP.js";import{S as W}from"./shield-C8Rtukqh.js";import{S}from"./search-CnWuNt8P.js";import{F}from"./filter-CCAkTebF.js";import{U as _}from"./users-mCE-RU_j.js";import{C as q}from"./clock-CaGl1oH_.js";import{P as J}from"./phone-BFwiWRG9.js";import{E as K}from"./eye-5QI_uo9p.js";import"./index-BdQq_4o_.js";import"./index-vsrGE1fA.js";import"./index-CmDifxQn.js";import"./index-Bk9LhQaI.js";import"./check-BVyohu0C.js";function ce(){const[d,w]=m.useState(""),[x,y]=m.useState("all"),[h,N]=m.useState("all"),[n,v]=m.useState("all"),{data:C=[],isLoading:E,error:L}=V({queryKey:["/api/consultants/featured"],retry:!1,staleTime:3e4,refetchOnWindowFocus:!1});if(z.useEffect(()=>{const s=r=>{r.preventDefault(),console.warn("Unhandled promise rejection prevented:",r.reason)},a=r=>{r.preventDefault(),console.warn("JavaScript error prevented:",r.error)};return window.addEventListener("unhandledrejection",s),window.addEventListener("error",a),()=>{window.removeEventListener("unhandledrejection",s),window.removeEventListener("error",a)}},[]),L)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(W,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Erro ao carregar consultores"}),e.jsx("p",{className:"text-gray-600",children:"Tente recarregar a página"})]})});if(E)return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((s,a)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm h-96"})},a))})})});const c=(()=>{try{return Array.isArray(C)?C.filter(s=>{try{if(!s||typeof s!="object")return!1;const a=s.name||"",r=s.specialty||"",i=s.title||"",u=a.toLowerCase().includes(d.toLowerCase())||r.toLowerCase().includes(d.toLowerCase())||i.toLowerCase().includes(d.toLowerCase()),T=x==="all"||r.toLowerCase()===x.toLowerCase();let l=0;try{l=typeof s.pricePerMinute=="string"?parseFloat(s.pricePerMinute||"0"):s.pricePerMinute||0,isNaN(l)&&(l=0)}catch{l=0}const O=n==="all"||n==="low"&&l<3||n==="medium"&&l>=3&&l<4||n==="high"&&l>=4,U=h==="all"||s.status===h;return u&&T&&O&&U}catch{return!1}}):[]}catch{return[]}})(),$=s=>{switch(s){case"online":return"bg-green-500";case"busy":return"bg-yellow-500";case"offline":return"bg-gray-400";default:return"bg-gray-400"}},R=s=>{switch(s){case"online":return"Online";case"busy":return"Ocupado";case"offline":return"Offline";default:return"Indisponível"}},k=s=>{switch(s.toLowerCase()){case"tarot":return"bg-purple-100 text-purple-800";case"astrologia":return"bg-blue-100 text-blue-800";case"numerologia":return"bg-green-100 text-green-800";case"mediunidade":return"bg-indigo-100 text-indigo-800";case"terapias":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},g=(s,a)=>{if(a==="whatsapp"&&s.whatsapp){const r=encodeURIComponent(`Olá ${s.name}, gostaria de agendar uma consulta.`),i=s.whatsapp.replace(/\D/g,"");i&&window.open(`https://wa.me/${i}?text=${r}`,"_blank")}else window.location.href=`/consulta/${s.id}?method=${a}`},P=["all","tarot","astrologia","numerologia","mediunidade","terapias"];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Nossos Consultores Especializados"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Conecte-se com profissionais experientes em esoterismo e encontre orientação espiritual personalizada"})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(A,{placeholder:"Buscar consultor...",value:d,onChange:s=>w(s.target.value),className:"pl-10 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs(p,{value:x,onValueChange:y,children:[e.jsxs(j,{className:"border-gray-300 focus:border-blue-500",children:[e.jsx(F,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx(b,{placeholder:"Especialidade"})]}),e.jsxs(f,{children:[e.jsx(t,{value:"all",children:"Todas Especialidades"}),P.slice(1).map(s=>e.jsx(t,{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})]}),e.jsxs(p,{value:h,onValueChange:N,children:[e.jsxs(j,{className:"border-gray-300 focus:border-blue-500",children:[e.jsx(_,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx(b,{placeholder:"Status"})]}),e.jsxs(f,{children:[e.jsx(t,{value:"all",children:"Todos"}),e.jsx(t,{value:"online",children:"Online"}),e.jsx(t,{value:"busy",children:"Ocupado"}),e.jsx(t,{value:"offline",children:"Offline"})]})]}),e.jsxs(p,{value:n,onValueChange:v,children:[e.jsxs(j,{className:"border-gray-300 focus:border-blue-500",children:[e.jsx(q,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx(b,{placeholder:"Preço"})]}),e.jsxs(f,{children:[e.jsx(t,{value:"all",children:"Todos os preços"}),e.jsx(t,{value:"low",children:"Até R$ 3,00/min"}),e.jsx(t,{value:"medium",children:"R$ 3,00 - R$ 4,00/min"}),e.jsx(t,{value:"high",children:"Acima de R$ 4,00/min"})]})]})]})})}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-gray-600",children:[c.length," consultor",c.length!==1?"es":""," encontrado",c.length!==1?"s":""]})}),c.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(s=>{const a=parseFloat(String(s.rating))||0,r=parseFloat(String(s.pricePerMinute))||0;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${$(s.status)}`}),e.jsx(I,{className:`${k(s.specialty)} text-xs`,children:s.specialty})]}),e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("div",{className:"w-24 h-24 mb-4",children:e.jsx("img",{src:s.imageUrl||"/images/consultores/default.jpg",alt:s.name,className:"w-full h-full rounded-full object-cover border-3 border-gray-200",onError:i=>{const u=i.target;u.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.name)}&background=6366f1&color=fff&size=96`}})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 text-center mb-3",children:s.title})]}),e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(M,{className:"w-4 h-4 fill-yellow-400 text-yellow-400 mr-1"}),e.jsx("span",{className:"font-semibold text-gray-900",children:a.toFixed(1)}),e.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",s.reviewCount,")"]})]}),e.jsx("p",{className:"text-sm text-gray-600 text-center mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 text-center",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["R$ ",r.toFixed(2)]}),e.jsx("span",{className:"text-sm text-gray-500",children:"/min"})]}),e.jsx("div",{className:"text-center mb-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${s.status==="online"?"bg-green-100 text-green-800":s.status==="busy"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:R(s.status)})}),e.jsxs("div",{className:"space-y-2",children:[s.status==="online"?e.jsxs(e.Fragment,{children:[e.jsxs(o,{onClick:()=>g(s,"chat"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"sm",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Iniciar Chat"]}),e.jsxs(o,{onClick:()=>g(s,"video"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white",size:"sm",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Vídeo Chamada"]})]}):e.jsxs(o,{onClick:()=>g(s,"whatsapp"),className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"WhatsApp"]}),e.jsxs(o,{variant:"outline",className:"w-full border-gray-300 text-gray-700 hover:bg-gray-50",size:"sm",onClick:()=>window.location.href=`/consultores/${s.id}`,children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Ver Perfil"]})]})]},s.id)})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(S,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhum consultor encontrado"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Tente ajustar seus filtros de busca para encontrar consultores disponíveis"}),e.jsxs(o,{onClick:()=>{w(""),y("all"),N("all"),v("all")},className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Limpar Filtros"]})]})]})]})}export{ce as default};
