import{z as Ne,D as be,n as ye,E as we,r as j,u as b,o as R,j as e,B as I,S as f,f as r,p as B,H as Ce,i as Se,k as V,C as o,b as x,c as h,e as c,V as Ae,d as H,F as Te,I as K,q as E}from"./index-C9s3gB-3.js";import{T as De,a as ke,b as y,c as w}from"./tabs-CB9Ea3mT.js";import{D as C,a as U,b as Q,c as Z,d as _,e as G,f as J}from"./dialog-CSFgGmJe.js";import{L as u}from"./label-CHUtYmr4.js";import{T as W}from"./textarea-vuvg6D2C.js";import{S as X,a as Y,b as ee,c as se,d as g}from"./select-B2paXjBP.js";import{C as ae}from"./circle-check-big-AFLFqLX2.js";import{Z as Fe}from"./zap-BloW11p5.js";import{C as P}from"./clock-CaGl1oH_.js";import{U as Oe}from"./users-mCE-RU_j.js";import{S as Re}from"./share-2-DMQOdsfd.js";import{P as Ie}from"./phone-BFwiWRG9.js";import"./index-CmDifxQn.js";import"./index-vsrGE1fA.js";import"./index-BdQq_4o_.js";import"./index-Bk9LhQaI.js";import"./check-BVyohu0C.js";function We(){const{id:t}=Ne(),{user:l,isAuthenticated:S}=be(),{toast:d}=ye(),ie=we(),[te,re]=j.useState("sobre"),[$,v]=j.useState(!1),[A,le]=j.useState(!1),[q,T]=j.useState(!1),{data:a,isLoading:ne}=b({queryKey:[`/api/consultants/${t}`],enabled:!!t}),{data:M}=b({queryKey:[`/api/consultants/${t}/services`],enabled:!!t}),{data:L}=b({queryKey:[`/api/consultants/${t}/reviews`],enabled:!!t}),{data:D}=b({queryKey:[`/api/consultants/${t}/stats`],enabled:!!t}),[p,m]=j.useState({serviceId:"",date:"",time:"",notes:"",communicationType:"chat"}),[k,z]=j.useState({rating:5,comment:"",wouldRecommend:!0}),F=R({mutationFn:s=>E("POST","/api/consultations",s),onSuccess:()=>{d({title:"Consulta Agendada!",description:"Sua consulta foi agendada com sucesso."}),v(!1)},onError:()=>{d({title:"Erro ao Agendar",description:"Não foi possível agendar a consulta.",variant:"destructive"})}}),oe=R({mutationFn:()=>E("POST","/api/favorites",{consultantId:t,userId:l==null?void 0:l.id}),onSuccess:()=>{le(!A),d({title:A?"Removido dos Favoritos":"Adicionado aos Favoritos",description:"Operação realizada com sucesso."})}}),O=R({mutationFn:s=>E("POST",`/api/consultants/${t}/reviews`,s),onSuccess:()=>{d({title:"Avaliação Enviada!",description:"Sua avaliação foi enviada com sucesso."}),T(!1),ie.invalidateQueries({queryKey:[`/api/consultants/${t}/reviews`]})}}),ce=s=>{if(s.preventDefault(),!S){d({title:"Login Necessário",description:"Você precisa fazer login para agendar uma consulta.",variant:"destructive"});return}F.mutate({consultantId:t,...p,userId:l==null?void 0:l.id})},de=s=>{if(s.preventDefault(),!S){d({title:"Login Necessário",description:"Você precisa fazer login para avaliar um consultor.",variant:"destructive"});return}O.mutate({...k,userId:l==null?void 0:l.id})},me=async()=>{const s={title:`${(a==null?void 0:a.name)||"Consultor"} - ${(a==null?void 0:a.title)||"Especialista"}`,text:"Conheça nosso consultor especialista em serviços esotéricos",url:window.location.href};if(navigator.share)try{await navigator.share(s)}catch(i){console.log("Erro ao compartilhar:",i)}else navigator.clipboard.writeText(window.location.href),d({title:"Link Copiado!",description:"O link do perfil foi copiado para a área de transferência."})};if(ne)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-primary border-t-transparent rounded-full"})});if(!a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Consultor não encontrado"}),e.jsx("p",{className:"text-gray-600",children:"O consultor que você está procurando não existe ou foi removido."})]})});const N=(a==null?void 0:a.name)||"Consultor Especialista",xe=(a==null?void 0:a.title)||"Taróloga Especialista",he=(a==null?void 0:a.rating)||4.9,ue=(a==null?void 0:a.reviewCount)||127,pe=(a==null?void 0:a.price)||5.99,je=(a==null?void 0:a.imageUrl)||(a==null?void 0:a.profileImageUrl)||"https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=1000&auto=format&fit=crop",ge=Array.isArray(M)?M:[{id:1,name:"Consulta de Tarot Completa",price:59.9,duration:45,description:"Análise completa com 21 cartas sobre amor, trabalho e espiritualidade",category:"tarot"},{id:2,name:"Tarot do Amor",price:39.9,duration:30,description:"Consulta focada em relacionamentos amorosos e vida afetiva",category:"amor"},{id:3,name:"Orientação Profissional",price:49.9,duration:35,description:"Direcionamento para carreira e decisões profissionais",category:"carreira"}],ve=Array.isArray(L)?L:[{id:1,content:"Consulta incrível! Muito precisa e esclarecedora.",author:"Ana Carolina",rating:5,date:"2024-01-15",verified:!0},{id:2,content:"Profissional muito competente, me ajudou muito.",author:"Roberto Silva",rating:5,date:"2024-01-10",verified:!0}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50",children:[e.jsxs("section",{className:"bg-gradient-to-r from-primary/90 to-secondary/80 text-white py-16 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:je,alt:N,className:"w-40 h-40 rounded-full object-cover border-4 border-white shadow-2xl"}),e.jsx("div",{className:"absolute bottom-3 right-3 w-8 h-8 rounded-full border-3 border-white shadow-lg bg-green-500",children:e.jsx("div",{className:"absolute inset-1 rounded-full bg-white/30 animate-pulse"})}),e.jsx("div",{className:"absolute -top-2 -right-2",children:e.jsx(ae,{className:"w-8 h-8 text-blue-500 bg-white rounded-full"})})]}),e.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 mb-2",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:N}),e.jsxs(I,{className:"bg-yellow-500 text-yellow-900",children:[e.jsx(Fe,{className:"w-3 h-3 mr-1"}),"Expert"]})]}),e.jsx("p",{className:"text-xl opacity-90 mb-4",children:xe}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-4 mb-6 text-sm",children:[e.jsxs("div",{className:"flex items-center bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:[e.jsx(f,{className:"w-4 h-4 mr-1 fill-current text-yellow-300"}),e.jsxs("span",{children:[he," (",ue," avaliações)"]})]}),e.jsxs("div",{className:"flex items-center bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:[e.jsx(P,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Responde em 2 minutos"})]}),e.jsxs("div",{className:"flex items-center bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:[e.jsx(Oe,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:[(D==null?void 0:D.totalConsultations)||2500,"+ consultas"]})]})]}),e.jsxs("div",{className:"text-3xl font-bold mb-6",children:["A partir de R$ ",pe,"/min"]}),e.jsxs("div",{className:"flex flex-wrap gap-3 justify-center lg:justify-start",children:[e.jsx(C,{open:$,onOpenChange:v,children:e.jsx(U,{asChild:!0,children:e.jsxs(r,{size:"lg",className:"bg-white text-primary hover:bg-gray-100 font-bold shadow-lg",children:[e.jsx(B,{className:"w-5 h-5 mr-2"}),"Agendar Consulta"]})})}),e.jsxs(r,{size:"lg",variant:"outline",className:"border-purple-300 text-purple-600 bg-white/90 hover:bg-purple-600 hover:text-white backdrop-blur-sm font-medium",onClick:()=>oe.mutate(),children:[e.jsx(Ce,{className:`w-5 h-5 mr-2 ${A?"fill-current text-red-500":""}`}),"Favoritar"]}),e.jsxs(r,{size:"lg",variant:"outline",className:"border-purple-300 text-purple-600 bg-white/90 hover:bg-purple-600 hover:text-white backdrop-blur-sm font-medium",onClick:me,children:[e.jsx(Re,{className:"w-5 h-5 mr-2"}),"Compartilhar"]})]})]})]})})]}),e.jsx("section",{className:"py-8 bg-white shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"15+ anos"}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Experiência"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"2500+"}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Consultas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"98%"}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Satisfação"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"85%"}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Clientes Retornam"})]})]})})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(De,{value:te,onValueChange:re,className:"w-full",children:[e.jsxs(ke,{className:"grid w-full grid-cols-4 lg:w-auto lg:grid-cols-4 mb-8",children:[e.jsxs(y,{value:"sobre",className:"flex items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4"}),"Sobre"]}),e.jsxs(y,{value:"servicos",className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Serviços"]}),e.jsxs(y,{value:"avaliacoes",className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),"Avaliações"]}),e.jsxs(y,{value:"agenda",className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Agenda"]})]}),e.jsx(w,{value:"sobre",className:"space-y-6",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(o,{children:[e.jsx(x,{children:e.jsx(h,{children:"Sobre mim"})}),e.jsxs(c,{children:[e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Desde criança, possui o dom da vidência e da conexão espiritual. Com mais de 15 anos de experiência, se especializou em leituras que proporcionam insights profundos sobre amor, carreira e crescimento pessoal."}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Especialista em orientação espiritual com vasta experiência em diferentes métodos de consulta."})]})]}),e.jsxs(o,{children:[e.jsx(x,{children:e.jsx(h,{children:"Especialidades"})}),e.jsx(c,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:["Tarot do Amor","Tarot Profissional","Orientação Espiritual","Astrologia"].map((s,i)=>e.jsx(I,{variant:"secondary",className:"text-sm",children:s},i))})})]}),e.jsxs(o,{children:[e.jsx(x,{children:e.jsx(h,{children:"Métodos de Atendimento"})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(B,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("div",{className:"font-medium text-green-800",children:"Chat"}),e.jsx("div",{className:"text-sm text-green-600",children:"Disponível"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(Ae,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"font-medium text-blue-800",children:"Vídeo"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Disponível"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(Ie,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsx("div",{className:"font-medium text-purple-800",children:"Áudio"}),e.jsx("div",{className:"text-sm text-purple-600",children:"Disponível"})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Status Atual"]})}),e.jsxs(c,{children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"Disponível agora"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Responde em 2 minutos"}),e.jsxs(r,{className:"w-full mt-4",onClick:()=>v(!0),children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Agendar Agora"]})]})]}),e.jsxs(o,{children:[e.jsx(x,{children:e.jsx(h,{children:"Estatísticas"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Taxa de Resposta"}),e.jsx("span",{className:"font-medium",children:"95%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tempo Médio de Consulta"}),e.jsx("span",{className:"font-medium",children:"45 min"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Clientes Ativos"}),e.jsx("span",{className:"font-medium",children:"150+"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Idiomas"}),e.jsx("span",{className:"font-medium",children:"Português"})]})]})]})]})]})}),e.jsx(w,{value:"servicos",className:"space-y-6",children:e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:ge.map(s=>e.jsxs(o,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(x,{children:[e.jsx(h,{className:"text-lg",children:s.name}),e.jsx(H,{children:s.description})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:["R$ ",s.price]}),e.jsxs("div",{className:"text-gray-500 text-sm flex items-center",children:[e.jsx(P,{className:"w-4 h-4 mr-1"}),s.duration," min"]})]}),e.jsx(I,{variant:"outline",className:"mb-4",children:s.category})]}),e.jsx(Te,{children:e.jsx(r,{className:"w-full",onClick:()=>{m(i=>({...i,serviceId:s.id.toString()})),v(!0)},children:"Agendar Consulta"})})]},s.id))})}),e.jsxs(w,{value:"avaliacoes",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Avaliações dos Clientes"}),S&&e.jsx(C,{open:q,onOpenChange:T,children:e.jsx(U,{asChild:!0,children:e.jsxs(r,{variant:"outline",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Avaliar"]})})})]}),e.jsx("div",{className:"grid gap-6",children:ve.map(s=>e.jsx(o,{children:e.jsxs(c,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"font-medium text-primary",children:s.author.charAt(0)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-2",children:[s.author,s.verified&&e.jsx(ae,{className:"w-4 h-4 text-green-500"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:s.date})]})]}),e.jsx("div",{className:"flex",children:[...Array(5)].map((i,n)=>e.jsx(f,{className:`w-4 h-4 ${n<s.rating?"text-yellow-400 fill-current":"text-gray-300"}`},n))})]}),e.jsx("p",{className:"text-gray-600",children:s.content})]})},s.id))})]}),e.jsx(w,{value:"agenda",className:"space-y-6",children:e.jsxs(o,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Horários Disponíveis"}),e.jsx(H,{children:"Selecione um horário conveniente para sua consulta"})]}),e.jsx(c,{children:e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-2",children:Array.from({length:14},(s,i)=>{const n=new Date;return n.setDate(n.getDate()+i),e.jsxs(r,{variant:i===0?"default":"outline",className:"p-2 h-auto flex-col",onClick:()=>m(fe=>({...fe,date:n.toISOString().split("T")[0]})),children:[e.jsx("div",{className:"text-xs",children:n.toLocaleDateString("pt-BR",{weekday:"short"})}),e.jsx("div",{className:"text-sm font-bold",children:n.getDate()})]},i)})})})]})})]})})})}),e.jsx(C,{open:$,onOpenChange:v,children:e.jsxs(Q,{className:"sm:max-w-[425px]",children:[e.jsxs(Z,{children:[e.jsx(_,{children:"Agendar Consulta"}),e.jsxs(G,{children:["Preencha os dados para agendar sua consulta com ",N]})]}),e.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"service",children:"Serviço"}),e.jsxs(X,{value:p.serviceId,onValueChange:s=>m(i=>({...i,serviceId:s})),children:[e.jsx(Y,{children:e.jsx(ee,{placeholder:"Selecione um serviço"})}),e.jsxs(se,{children:[e.jsx(g,{value:"1",children:"Consulta de Tarot Completa - R$ 59.90"}),e.jsx(g,{value:"2",children:"Tarot do Amor - R$ 39.90"}),e.jsx(g,{value:"3",children:"Orientação Profissional - R$ 49.90"})]})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"date",children:"Data"}),e.jsx(K,{id:"date",type:"date",value:p.date,onChange:s=>m(i=>({...i,date:s.target.value})),min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"time",children:"Horário"}),e.jsx(K,{id:"time",type:"time",value:p.time,onChange:s=>m(i=>({...i,time:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"communication",children:"Tipo de Atendimento"}),e.jsxs(X,{value:p.communicationType,onValueChange:s=>m(i=>({...i,communicationType:s})),children:[e.jsx(Y,{children:e.jsx(ee,{})}),e.jsxs(se,{children:[e.jsx(g,{value:"chat",children:"Chat"}),e.jsx(g,{value:"video",children:"Vídeo Chamada"}),e.jsx(g,{value:"audio",children:"Chamada de Áudio"})]})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"notes",children:"Observações (opcional)"}),e.jsx(W,{id:"notes",placeholder:"Descreva brevemente o que gostaria de consultar...",value:p.notes,onChange:s=>m(i=>({...i,notes:s.target.value}))})]}),e.jsx(J,{children:e.jsx(r,{type:"submit",disabled:F.isPending,children:F.isPending?"Agendando...":"Confirmar Agendamento"})})]})]})}),e.jsx(C,{open:q,onOpenChange:T,children:e.jsxs(Q,{className:"sm:max-w-[425px]",children:[e.jsxs(Z,{children:[e.jsx(_,{children:"Avaliar Consultor"}),e.jsxs(G,{children:["Compartilhe sua experiência com ",N]})]}),e.jsxs("form",{onSubmit:de,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Avaliação"}),e.jsx("div",{className:"flex gap-1 mt-2",children:[1,2,3,4,5].map(s=>e.jsx(r,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(i=>({...i,rating:s})),children:e.jsx(f,{className:`w-6 h-6 ${s<=k.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},s))})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"comment",children:"Comentário"}),e.jsx(W,{id:"comment",placeholder:"Conte sobre sua experiência...",value:k.comment,onChange:s=>z(i=>({...i,comment:s.target.value})),required:!0})]}),e.jsx(J,{children:e.jsx(r,{type:"submit",disabled:O.isPending,children:O.isPending?"Enviando...":"Enviar Avaliação"})})]})]})})]})}export{We as default};
