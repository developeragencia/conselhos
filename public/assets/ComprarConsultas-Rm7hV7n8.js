import{r as P,D as S,n as T,u as E,o as R,j as e,m as o,p as t,V as r,B as g,S as A,C as M,b as k,c as z,d as I,e as V,f as L,q as O}from"./index-C9s3gB-3.js";import{T as $,a as q,b as m,c as G}from"./tabs-CB9Ea3mT.js";import{C as H}from"./clock-CaGl1oH_.js";import{P as n}from"./phone-BFwiWRG9.js";import{C as j}from"./check-BVyohu0C.js";import{C as B}from"./credit-card-D0hcmZDe.js";import{Z as D}from"./zap-BloW11p5.js";import{G as F}from"./gift-DwpQE1qQ.js";import"./index-CmDifxQn.js";import"./index-vsrGE1fA.js";function ie(){const[p,u]=P.useState(null),{user:Z,isAuthenticated:N}=S(),{toast:c}=T(),{data:x=[],isLoading:h,error:v}=E({queryKey:["/api/consultation-options"],enabled:!0});console.log("Consultation options from API:",x),console.log("Is loading:",h),console.log("Error:",v);const l=R({mutationFn:async a=>(await O("POST","/api/purchase/consultation",{consultationId:a})).json(),onSuccess:a=>{c({title:"Consulta adquirida com sucesso!",description:`Consulta de ${a.duration} minutos adicionada ao seu plano.`})},onError:()=>{c({title:"Erro na compra",description:"Não foi possível processar sua compra. Tente novamente.",variant:"destructive"})}}),C={chat:[{id:1,name:"Chat Express",duration:15,price:35,credits:15,method:"chat",icon:t,features:["15 minutos de chat","Resposta imediata","Histórico salvo","Consultores especializados"],description:"Ideal para perguntas rápidas e orientações pontuais",color:"from-blue-500 to-blue-600"},{id:2,name:"Chat Completo",duration:30,price:65,originalPrice:70,credits:30,method:"chat",icon:t,features:["30 minutos de chat","Análise detalhada","Histórico salvo","Relatório por email","Suporte pós-consulta"],popular:!0,description:"Nossa opção mais popular para consultas completas",color:"from-purple-500 to-purple-600"},{id:3,name:"Chat Premium",duration:60,price:120,originalPrice:140,credits:60,method:"chat",icon:t,features:["60 minutos de chat","Análise profunda","Consultores VIP","Relatório detalhado","Suporte 48h pós-consulta"],description:"Para consultas profundas e transformadoras",color:"from-amber-500 to-amber-600"}],video:[{id:4,name:"Vídeo Express",duration:20,price:55,credits:20,method:"video",icon:r,features:["20 minutos em vídeo","Conexão face a face","Gravação disponível","Consultores certificados"],description:"Conexão visual para maior intimidade na consulta",color:"from-green-500 to-green-600"},{id:5,name:"Vídeo Completo",duration:45,price:95,originalPrice:105,credits:45,method:"video",icon:r,features:["45 minutos em vídeo","Análise completa","Gravação HD","Relatório personalizado","Material complementar"],popular:!0,description:"Experiência completa com conexão visual",color:"from-emerald-500 to-emerald-600"}],phone:[{id:6,name:"Ligação Express",duration:15,price:45,credits:15,method:"phone",icon:n,features:["15 minutos de ligação","Conexão telefônica","Sem necessidade de internet","Consultores experientes"],description:"Praticidade da ligação telefônica tradicional",color:"from-indigo-500 to-indigo-600"},{id:7,name:"Ligação Completa",duration:30,price:85,credits:30,method:"phone",icon:n,features:["30 minutos de ligação","Análise detalhada","Resumo por SMS","Suporte pós-consulta"],description:"Consulta completa no conforto da ligação",color:"from-violet-500 to-violet-600"}]},y=(a=>{if(a&&a.length>0){const i={chat:[],video:[],phone:[]};return a.forEach(s=>{const d={...s,icon:{chat:t,video:r,phone:n}[s.method]||t};i[s.method]&&i[s.method].push(d)}),i}return C})(x||[]),b=async a=>{if(!N){c({title:"Login necessário",description:"Faça login para comprar consultas.",variant:"destructive"});return}u(a.id),await l.mutateAsync(a.id),u(null)};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[e.jsx("section",{className:"py-16 text-center",children:e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6",children:[e.jsx(H,{className:"w-16 h-16 text-purple-600 mr-4"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900",children:"Comprar Consultas"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Escolha o método de comunicação e duração ideal para sua consulta. Todos os nossos consultores são certificados e experientes."})]})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs($,{defaultValue:"chat",className:"w-full",children:[e.jsxs(q,{className:"grid w-full grid-cols-3 mb-8",children:[e.jsxs(m,{value:"chat",className:"flex items-center gap-2",children:[e.jsx(t,{className:"w-4 h-4"}),"Chat"]}),e.jsxs(m,{value:"video",className:"flex items-center gap-2",children:[e.jsx(r,{className:"w-4 h-4"}),"Vídeo"]}),e.jsxs(m,{value:"phone",className:"flex items-center gap-2",children:[e.jsx(n,{className:"w-4 h-4"}),"Telefone"]})]}),Object.entries(y).map(([a,i])=>e.jsx(G,{value:a,children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((s,f)=>e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:f*.1},className:"relative",children:[s.popular&&e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-10",children:e.jsxs(g,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-1",children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),"MAIS POPULAR"]})}),e.jsxs(M,{className:`h-full ${s.popular?"ring-2 ring-purple-500 scale-105":""} hover:shadow-xl transition-all duration-300`,children:[e.jsxs(k,{className:`bg-gradient-to-r ${s.color} text-white rounded-t-lg`,children:[e.jsxs(z,{className:"text-2xl font-bold text-center flex items-center justify-center gap-2",children:[e.jsx(s.icon,{className:"w-6 h-6"}),s.name]}),e.jsxs(I,{className:"text-center text-white/90",children:[e.jsxs("div",{className:"text-3xl font-bold",children:["R$ ",s.price]}),s.originalPrice&&s.originalPrice>s.price&&e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"line-through opacity-75",children:["R$ ",s.originalPrice]}),e.jsxs(g,{variant:"secondary",className:"ml-2 bg-white/20 text-white",children:["Economize R$ ",s.originalPrice-s.price]})]}),e.jsxs("div",{className:"text-sm mt-2",children:[s.duration," minutos • ",s.credits," créditos"]})]})]}),e.jsxs(V,{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:s.description}),e.jsx("ul",{className:"space-y-3 mb-6",children:s.features.map((d,w)=>e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx(j,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),d]},w))}),e.jsx(L,{onClick:()=>b(s),disabled:l.isPending&&p===s.id,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:l.isPending&&p===s.id?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processando..."]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Comprar Consulta"]})})]})]})]},s.id))})},a))]})})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Por que escolher nossas consultas?"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:D,title:"Início Imediato",description:"Comece sua consulta em poucos minutos"},{icon:j,title:"Consultores Certificados",description:"Todos os profissionais são verificados e experientes"},{icon:F,title:"Garantia Total",description:"Satisfação garantida ou seu dinheiro de volta"}].map((a,i)=>e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.2},className:"text-center p-6",children:[e.jsx(a.icon,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.title}),e.jsx("p",{className:"text-gray-600",children:a.description})]},i))})]})})]})}export{ie as default};
