import{af as N,r as o,j as e,C as w,b as S,c as E,d as k,e as L,I as b,f as $}from"./index-C9s3gB-3.js";import{L as d}from"./label-CHUtYmr4.js";import{A,a as P,E as I}from"./alert-Blql91It.js";import{E as T}from"./eye-5QI_uo9p.js";import{U as O}from"./user-CRjAgDCP.js";import{C as q}from"./crown-BizORMSu.js";import{S as D}from"./shield-C8Rtukqh.js";const G=()=>{const[,n]=N(),[r,g]=o.useState("cliente"),[m,j]=o.useState(""),[x,v]=o.useState(""),[i,C]=o.useState(!1),[h,u]=o.useState(!1),[p,c]=o.useState(""),f=async s=>{s.preventDefault(),u(!0),c("");try{const a=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,password:x,role:r})})).json();if(a.success)switch(localStorage.setItem("authToken",a.token),a.user.role){case"admin":n("/admin-dashboard");break;case"consultor":n("/consultant-dashboard");break;case"cliente":default:n("/client-dashboard");break}else c(a.error||"Credenciais inválidas")}catch{c("Erro de conexão com o servidor")}finally{u(!1)}},l={cliente:{icon:O,color:"bg-green-500",hoverColor:"hover:bg-green-600",borderColor:"border-green-500",textColor:"text-green-600",title:"Cliente",description:"Acesso às consultas e serviços"},consultor:{icon:q,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",borderColor:"border-purple-500",textColor:"text-purple-600",title:"Consultor",description:"Painel do consultor esotérico"},admin:{icon:D,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",borderColor:"border-blue-500",textColor:"text-blue-600",title:"Administrador",description:"Painel administrativo"}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-gold-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(w,{className:"shadow-xl border-0",children:[e.jsxs(S,{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-purple-600 to-gold-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"CE"})}),e.jsxs("div",{children:[e.jsx(E,{className:"text-2xl font-bold text-gray-800",children:"Conselhos Esotéricos"}),e.jsx(k,{className:"text-gray-600",children:"Bem-vindo de volta! Faça login na sua conta"})]})]}),e.jsxs(L,{className:"space-y-6",children:[p&&e.jsx(A,{className:"border-red-200 bg-red-50",children:e.jsx(P,{className:"text-red-800",children:p})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{className:"text-sm font-medium text-gray-700",children:"Tipo de Acesso"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(l).map(([s,t])=>{const a=t.icon,y=r===s;return e.jsxs("button",{onClick:()=>g(s),className:`p-3 rounded-xl border-2 text-center transition-all duration-200 ${y?`${t.color} text-white ${t.borderColor}`:`bg-white text-gray-600 border-gray-200 hover:border-gray-300 ${t.hoverColor} hover:text-white`}`,children:[e.jsx(a,{className:"w-6 h-6 mx-auto mb-1"}),e.jsx("div",{className:"text-xs font-medium",children:t.title})]},s)})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:l[r].description})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email"}),e.jsx(b,{id:"email",type:"email",value:m,onChange:s=>j(s.target.value),placeholder:"seu@email.com",required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{id:"password",type:i?"text":"password",value:x,onChange:s=>v(s.target.value),placeholder:"Sua senha",required:!0,className:"h-11 pr-10"}),e.jsx("button",{type:"button",onClick:()=>C(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(I,{className:"w-4 h-4"}):e.jsx(T,{className:"w-4 h-4"})})]})]}),e.jsx($,{type:"submit",disabled:h,className:`w-full h-11 font-semibold ${l[r].color} ${l[r].hoverColor} text-white`,children:h?"Entrando...":`Entrar como ${l[r].title}`})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("button",{className:"text-sm text-gray-500 hover:text-gray-700",children:"Esqueceu sua senha?"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Não tem uma conta?"," ",e.jsx("button",{onClick:()=>n("/cadastro"),className:"text-purple-600 font-medium hover:underline",children:"Cadastre-se"})]})]})]})]})})})};export{G as default};
