import{r as u,u as T,j as e,m as d,I as A,C as k,b as E,A as F,v as L,w as O,c as V,B as y,S as $,e as z,f as c,p as B,V as I,L as M}from"./index-C9s3gB-3.js";import{T as P,a as R,b as g,c as j}from"./tabs-CB9Ea3mT.js";import{S as W}from"./search-CnWuNt8P.js";import{C as q}from"./clock-CaGl1oH_.js";import{P as H}from"./phone-BFwiWRG9.js";import{E as K}from"./eye-5QI_uo9p.js";import"./index-CmDifxQn.js";import"./index-vsrGE1fA.js";const v=({consultant:a})=>{const m=t=>{switch(t){case"online":return"bg-green-500";case"busy":return"bg-yellow-500";case"offline":return"bg-gray-500";default:return"bg-gray-500"}},i=t=>{switch(t){case"online":return"Online";case"busy":return"Ocupado";case"offline":return"Offline";default:return"Indisponível"}},x=()=>{window.location.href=`/comprar/consultas?consultor=${a.id}&tipo=whatsapp`},n=()=>{window.location.href=`/comprar/consultas?consultor=${a.id}&tipo=chat`},p=()=>{window.location.href=`/comprar/consultas?consultor=${a.id}&tipo=video`};return e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(k,{className:"h-full hover:shadow-lg transition-shadow border border-purple-100 bg-gradient-to-br from-white to-purple-50/30",children:[e.jsx(E,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(F,{className:"w-16 h-16",children:[e.jsx(L,{src:a.imageUrl,alt:a.name}),e.jsx(O,{className:"bg-purple-100 text-purple-600",children:a.name.split(" ").map(t=>t[0]).join("")})]}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white ${m(a.status)}`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(V,{className:"text-lg text-gray-900 truncate",children:a.name}),e.jsx(y,{variant:"secondary",className:"mt-1 bg-purple-100 text-purple-700",children:a.specialty}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx($,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium",children:parseFloat(a.rating).toFixed(1)}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.reviewCount," avaliações)"]})]})]})]})}),e.jsxs(z,{className:"pt-0",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:a.title})]}),e.jsxs("span",{className:"text-lg font-bold text-purple-600",children:["R$ ",parseFloat(a.pricePerMinute).toFixed(2),"/min"]})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs(c,{size:"sm",variant:"outline",className:"flex-1",onClick:n,children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Chat"]}),e.jsxs(c,{size:"sm",variant:"outline",className:"flex-1",onClick:p,children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Vídeo"]}),e.jsxs(c,{size:"sm",variant:"outline",className:"flex-1",onClick:x,children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{variant:a.status==="online"?"default":"secondary",className:"text-xs",children:i(a.status)}),e.jsx(M,{href:`/consultores/${a.id}`,children:e.jsxs(c,{size:"sm",className:"flex-1 bg-purple-600 hover:bg-purple-700",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Ver Perfil"]})})]})]})]})})};function Z(){const[a,m]=u.useState(""),[i,x]=u.useState("all"),[n,p]=u.useState("all"),{data:t,isLoading:b,error:w}=T({queryKey:["/api/consultants"],retry:1}),l=Array.isArray(t)?t:[],o=l.filter(s=>{const r=s.name.toLowerCase().includes(a.toLowerCase())||s.specialty.toLowerCase().includes(a.toLowerCase()),C=i==="all"||s.specialty===i,S=n==="all"||s.status===n;return r&&C&&S}),h=o.filter(s=>s.status==="online"),f=[...o].sort((s,r)=>parseFloat(r.rating)-parseFloat(s.rating)).slice(0,6),N=Array.from(new Set(l.map(s=>s.specialty)));return b?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,r)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"bg-gray-300 h-64 rounded-lg"})},r))})})}):w?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 py-12",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Erro ao carregar consultores"}),e.jsx("p",{className:"text-gray-600",children:"Ocorreu um erro ao buscar os dados dos consultores. Tente novamente mais tarde."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs(d.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Nossos Consultores"}),e.jsx("p",{className:"text-xl opacity-90 max-w-2xl mx-auto",children:"Conecte-se com especialistas em esoterismo e encontre orientação para sua jornada espiritual"})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(A,{placeholder:"Buscar por nome ou especialidade...",value:a,onChange:s=>m(s.target.value),className:"pl-10"})]})}),e.jsxs("select",{value:i,onChange:s=>x(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Todas as Especialidades"}),N.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:n,onChange:s=>p(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Todos os Status"}),e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"busy",children:"Ocupado"}),e.jsx("option",{value:"offline",children:"Offline"})]})]})}),e.jsxs(P,{defaultValue:"all",className:"space-y-6",children:[e.jsxs(R,{className:"grid w-full grid-cols-3 bg-white",children:[e.jsxs(g,{value:"all",children:["Todos (",o.length,")"]}),e.jsxs(g,{value:"online",children:["Online (",h.length,")"]}),e.jsxs(g,{value:"top",children:["Mais Avaliados (",f.length,")"]})]}),e.jsx(j,{value:"all",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(s=>e.jsx(v,{consultant:s},s.id))})}),e.jsx(j,{value:"online",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(s=>e.jsx(v,{consultant:s},s.id))})}),e.jsx(j,{value:"top",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(s=>e.jsx(v,{consultant:s},s.id))})})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-lg shadow-sm p-6 mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Estatísticas dos Consultores"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:l.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total de Consultores"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Online Agora"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:N.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Especialidades"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-pink-600",children:l.length>0?(l.reduce((s,r)=>s+parseFloat(r.rating),0)/l.length).toFixed(1):"0.0"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avaliação Média"})]})]})]})]})]})}export{Z as default};
