import{n as v,r as C,o as y,j as e,m as j,I as c,p as m,V as w,f as S,q as P}from"./index-C9s3gB-3.js";import{u as T,F,a as o,b as n,c as r,d as t,e as l,z as a,t as A}from"./form-CPaE3RhR.js";import{T as M}from"./textarea-vuvg6D2C.js";import{S as k,a as x}from"./switch-D4bR0GVc.js";import{P as g}from"./phone-BFwiWRG9.js";import{U as E}from"./user-CRjAgDCP.js";import{C as I}from"./clock-CaGl1oH_.js";import{B as W}from"./bell-CDrkVoJb.js";import{S as R}from"./shield-C8Rtukqh.js";import"./label-CHUtYmr4.js";import"./index-Bk9LhQaI.js";const V=a.object({nome:a.string().min(2,"Nome deve ter pelo menos 2 caracteres"),biografia:a.string().min(50,"Biografia deve ter pelo menos 50 caracteres"),foto:a.string().url("URL da foto inválida").optional(),whatsapp:a.string().min(10,"Número do WhatsApp inválido"),telefone:a.string().min(10,"Número do telefone inválido").optional(),email:a.string().email("Email inválido"),precoPorMinuto:a.number().min(1,"Preço deve ser maior que R$ 1,00"),tempoMinimoConsulta:a.number().min(5,"Tempo mínimo deve ser pelo menos 5 minutos"),disponibilidadeChat:a.boolean(),disponibilidadeWhatsapp:a.boolean(),disponibilidadeTelefone:a.boolean(),disponibilidadeVideo:a.boolean(),horarioInicio:a.string(),horarioFim:a.string(),diasDisponiveis:a.array(a.string()),notificacoesSms:a.boolean(),notificacoesEmail:a.boolean(),notificacoesPush:a.boolean(),statusAtendimento:a.enum(["online","ocupado","ausente","offline"]),mensagemStatus:a.string().optional()});function K(){const{toast:u}=v(),[d,f]=C.useState("perfil"),i=T({resolver:A(V),defaultValues:{nome:"Redação Portal",biografia:"Sou tarologa há mais de 15 anos, especializada em amor e relacionamentos...",foto:"",whatsapp:"5511999999999",telefone:"",email:"maria@exemplo.com",precoPorMinuto:8.5,tempoMinimoConsulta:10,disponibilidadeChat:!0,disponibilidadeWhatsapp:!0,disponibilidadeTelefone:!0,disponibilidadeVideo:!1,horarioInicio:"09:00",horarioFim:"22:00",diasDisponiveis:["segunda","terca","quarta","quinta","sexta"],notificacoesSms:!0,notificacoesEmail:!0,notificacoesPush:!0,statusAtendimento:"online",mensagemStatus:""}}),h=y({mutationFn:s=>P("PUT","/api/consultant/config",s),onSuccess:()=>{u({title:"Configurações salvas com sucesso!",description:"Suas configurações foram atualizadas."})},onError:s=>{u({title:"Erro ao salvar configurações",description:s.message||"Tente novamente mais tarde.",variant:"destructive"})}});function b(s){h.mutate(s)}const N=[{id:"perfil",label:"Perfil",icon:e.jsx(E,{className:"w-4 h-4"})},{id:"contato",label:"Contato",icon:e.jsx(m,{className:"w-4 h-4"})},{id:"atendimento",label:"Atendimento",icon:e.jsx(g,{className:"w-4 h-4"})},{id:"horarios",label:"Horários",icon:e.jsx(I,{className:"w-4 h-4"})},{id:"notificacoes",label:"Notificações",icon:e.jsx(W,{className:"w-4 h-4"})},{id:"status",label:"Status",icon:e.jsx(R,{className:"w-4 h-4"})}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(k,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Configurações do Consultor"}),e.jsx("p",{className:"text-gray-600",children:"Gerencie suas configurações de atendimento e perfil"})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:e.jsx("nav",{className:"space-y-2",children:N.map(s=>e.jsxs("button",{onClick:()=>f(s.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-colors ${d===s.id?"bg-primary text-white":"hover:bg-gray-100 text-gray-700"}`,children:[s.icon,e.jsx("span",{children:s.label})]},s.id))})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:e.jsx(F,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(b),className:"space-y-6",children:[d==="perfil"&&e.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Informações do Perfil"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx(o,{control:i.control,name:"nome",render:({field:s})=>e.jsxs(n,{children:[e.jsx(r,{children:"Nome Completo"}),e.jsx(t,{children:e.jsx(c,{placeholder:"Seu nome completo",...s})}),e.jsx(l,{})]})}),e.jsx(o,{control:i.control,name:"foto",render:({field:s})=>e.jsxs(n,{children:[e.jsx(r,{children:"URL da Foto de Perfil"}),e.jsx(t,{children:e.jsx(c,{placeholder:"https://exemplo.com/foto.jpg",...s})}),e.jsx(l,{})]})})]}),e.jsx(o,{control:i.control,name:"biografia",render:({field:s})=>e.jsxs(n,{children:[e.jsx(r,{children:"Biografia Profissional"}),e.jsx(t,{children:e.jsx(M,{placeholder:"Conte sobre sua experiência, especialidades e abordagem...",className:"min-h-32",...s})}),e.jsx(l,{})]})})]}),d==="contato"&&e.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Informações de Contato"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(m,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-800",children:"WhatsApp (Obrigatório)"})]}),e.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Seu WhatsApp será usado para atendimento direto e notificações importantes."}),e.jsx(o,{control:i.control,name:"whatsapp",render:({field:s})=>e.jsxs(n,{children:[e.jsx(r,{children:"Número do WhatsApp"}),e.jsx(t,{children:e.jsx(c,{placeholder:"5511999999999 (com código do país)",...s})}),e.jsx(l,{})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx(o,{control:i.control,name:"telefone",render:({field:s})=>e.jsxs(n,{children:[e.jsx(r,{children:"Telefone Adicional (Opcional)"}),e.jsx(t,{children:e.jsx(c,{placeholder:"(11) 99999-9999",...s})}),e.jsx(l,{})]})}),e.jsx(o,{control:i.control,name:"email",render:({field:s})=>e.jsxs(n,{children:[e.jsx(r,{children:"Email"}),e.jsx(t,{children:e.jsx(c,{type:"email",placeholder:"seu@email.com",...s})}),e.jsx(l,{})]})})]})]})]}),d==="atendimento"&&e.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Configurações de Atendimento"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx(o,{control:i.control,name:"precoPorMinuto",render:({field:s})=>e.jsxs(n,{children:[e.jsx(r,{children:"Preço por Minuto (R$)"}),e.jsx(t,{children:e.jsx(c,{type:"number",step:"0.50",min:"1",placeholder:"8.50",...s,onChange:p=>s.onChange(parseFloat(p.target.value)||0)})}),e.jsx(l,{})]})}),e.jsx(o,{control:i.control,name:"tempoMinimoConsulta",render:({field:s})=>e.jsxs(n,{children:[e.jsx(r,{children:"Tempo Mínimo de Consulta (minutos)"}),e.jsx(t,{children:e.jsx(c,{type:"number",min:"5",placeholder:"10",...s,onChange:p=>s.onChange(parseInt(p.target.value)||0)})}),e.jsx(l,{})]})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-4",children:"Tipos de Atendimento Disponíveis"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(o,{control:i.control,name:"disponibilidadeChat",render:({field:s})=>e.jsxs(n,{className:"flex items-center justify-between space-y-0 p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(m,{className:"w-5 h-5 text-blue-600"}),e.jsx(r,{children:"Chat na Plataforma"})]}),e.jsx(t,{children:e.jsx(x,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(o,{control:i.control,name:"disponibilidadeWhatsapp",render:({field:s})=>e.jsxs(n,{className:"flex items-center justify-between space-y-0 p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(m,{className:"w-5 h-5 text-green-600"}),e.jsx(r,{children:"WhatsApp"})]}),e.jsx(t,{children:e.jsx(x,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(o,{control:i.control,name:"disponibilidadeTelefone",render:({field:s})=>e.jsxs(n,{className:"flex items-center justify-between space-y-0 p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(g,{className:"w-5 h-5 text-orange-600"}),e.jsx(r,{children:"Telefone"})]}),e.jsx(t,{children:e.jsx(x,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(o,{control:i.control,name:"disponibilidadeVideo",render:({field:s})=>e.jsxs(n,{className:"flex items-center justify-between space-y-0 p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(w,{className:"w-5 h-5 text-purple-600"}),e.jsx(r,{children:"Videochamada"})]}),e.jsx(t,{children:e.jsx(x,{checked:s.value,onCheckedChange:s.onChange})})]})})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:e.jsx(S,{type:"submit",className:"px-8 py-3",disabled:h.isPending,children:h.isPending?"Salvando...":"Salvar Configurações"})})]})})})})]})})]})}export{K as default};
